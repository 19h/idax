# SDK Domain Coverage Matrix

Date: 2026-02-13 (initial Phase 10 baseline)

This document tracks wrapper parity against the IDA SDK by two axes:

1. Public `idax` domain namespaces (`ida::segment`, `ida::function`, ...)
2. Major SDK capability families (segment management, decompiler workflows, debugger control, ...)

Status values:

- `covered`: high-confidence parity for the intended family scope, with supporting tests/docs.
- `partial`: meaningful support exists, but migration still requires additional APIs or behavioral hardening.
- `missing`: no intentional wrapper surface yet.

Tracking rules:

- Every row must include concrete symbol references.
- Every `partial`/`missing` row must define closure criteria and required evidence.
- Any row status changes must also update `agents.md` TODO state + Progress Ledger + Findings/Decision logs as applicable.

## A) Domain Coverage Matrix (one row per public domain)

| Domain | Status | Concrete idax symbol references | Primary SDK families | Closure criteria (`partial`/`missing`) | Required evidence |
|---|---|---|---|---|---|
| `ida::error` | `covered` | `ida::Error`, `ida::ErrorCategory`, `ida::Result<T>`, `ida::Status`, `ida::ok()` | Cross-cutting error transport | Maintain model invariants and category usage for all new APIs | `tests/unit/idax_unit_test`, `tests/unit/api_surface_parity_test.cpp` |
| `ida::core` | `partial` | `ida::OperationOptions`, `ida::RangeOptions`, `ida::WaitOptions` | Cross-cutting option semantics | Intentional abstraction (P10.9.a): keep option surface compact and domain-agnostic instead of mirroring SDK flag breadth; expand only when concrete migration pressure appears | Unit tests + docs policy notes (`namespace_topology`, matrix intent notes) |
| `ida::diagnostics` | `partial` | `ida::diagnostics::log`, `set_log_level`, `assert_invariant`, `performance_counters` | Cross-cutting diagnostics | Intentional abstraction (P10.9.a): keep diagnostics lightweight (logging/assert/counters) rather than exposing SDK-internal telemetry channels | Unit coverage + concurrency-safe counter validation |
| `ida::address` | `covered` | `item_start`, `item_end`, `item_size`, `next_head`, `prev_head`, `next_defined`, `prev_defined`, `find_first`, `find_next`, `items`, `code_items`, `data_items`, `unknown_bytes` | Address flags/navigation (`ida.hpp`, `bytes.hpp`) | Closed in P10.2 (predicate ranges + discoverability aliases) | `smoke_test`, `tests/unit/api_surface_parity_test.cpp` |
| `ida::data` | `covered` | `read_*`, `write_*`, `patch_*`, `revert_patch`, `revert_patches`, `original_*`, `define_*`, `define_oword`, `define_tbyte`, `define_float`, `define_double`, `define_struct`, `undefine`, `read_string`, `read_value<T>`, `find_binary_pattern` | Byte IO + item definition (`bytes.hpp`, `offset.hpp`) | Closed in P10.2 (explicit patch revert + expanded define helpers) | `data_mutation_safety_test`, `tests/unit/api_surface_parity_test.cpp` |
| `ida::database` | `covered` | `init` (+ `RuntimeOptions`/`PluginLoadPolicy`), `open` (bool + `OpenMode` + `LoadIntent`), `open_binary`, `open_non_binary`, `save`, `close`, `file_to_database`, `memory_to_database`, `address_bounds`, `address_span`, `input_file_path`, `file_type_name`, `loader_format_name`, `compiler_info`, `import_modules`, `snapshots`, `set_snapshot_description` | Database lifecycle + loading (`idalib.hpp`, `loader.hpp`) | Closed in P10.2 (open/load intent convenience wrappers + metadata parity helpers) with post-closure parity additions for headless plugin policy controls and diagnostics-oriented metadata helpers | `smoke_test`, `tests/unit/api_surface_parity_test.cpp` |
| `ida::segment` | `covered` | `create`, `remove`, `at`, `by_name`, `set_type`, `set_permissions`, `set_comment`, `comment`, `resize`, `move`, `set_default_segment_register`, `set_default_segment_register_for_all`, `first`, `last`, `next`, `prev`, `all`, `Segment::type` | Segment CRUD/properties (`segment.hpp`) | Closed in P10.3 (resize/move wrappers, segment comments, first/last/next/prev traversal) with post-closure parity helper additions for default segment-register seeding | `segment_function_edge_cases_test`, `tests/unit/api_surface_parity_test.cpp` |
| `ida::function` | `covered` | `create`, `remove`, `chunks`, `tail_chunks`, `frame`, `sp_delta_at`, `define_stack_variable`, `update`, `reanalyze`, `item_addresses`, `code_addresses`, `frame_variable_by_name`, `frame_variable_by_offset`, `register_variables`, register-variable mutation APIs | Function/frame/chunks (`funcs.hpp`, `frame.hpp`) | Closed in P10.3 (explicit update/reanalysis intent, address iteration helpers, frame/register ergonomics) | `segment_function_edge_cases_test`, `tests/unit/api_surface_parity_test.cpp` |
| `ida::instruction` | `covered` | `decode`, `create`, `text`, `set_operand_*`, `set_operand_format`, `operand_text`, `get_forced_operand`, `code_refs_from`, `is_call`, `is_return`, `is_jump`, `is_conditional_jump` | Decode/output/operand representation (`ua.hpp`, `lines.hpp`) | Closed in P10.3 (jump classifiers + operand text/format parity helpers) | `instruction_decode_behavior_test`, `operand_and_text_test`, `tests/unit/api_surface_parity_test.cpp` |
| `ida::name` | `covered` | `set`, `force_set`, `remove`, `get`, `demangled`, `resolve`, `is_public`, `is_user_defined`, `is_auto_generated`, `is_valid_identifier`, `sanitize_identifier` | Symbol naming/demangle (`name.hpp`) | Closed in P10.4 (identifier validation/sanitization + naming-state introspection) | `name_comment_xref_search_test`, `tests/unit/api_surface_parity_test.cpp` |
| `ida::xref` | `covered` | `add_code`, `add_data`, `remove_code`, `refs_from`/`refs_to` (+ `ReferenceType` filters), `ReferenceRange` + `*_range` APIs, typed predicates (`is_call`, `is_jump`, `is_data_*`) | Cross-reference mutation/enumeration (`xref.hpp`) | Closed in P10.4 (range-style traversal + richer typed filter utilities) | `name_comment_xref_search_test`, `tests/unit/api_surface_parity_test.cpp` |
| `ida::comment` | `covered` | `get`, `set`, `append`, `remove`, `set_anterior_lines`, `set_posterior_lines`, indexed helpers (`set_anterior`, `set_posterior`, `remove_anterior_line`, `remove_posterior_line`), `render` | Regular + extra-line comments (`lines.hpp`) | Closed in P10.4 (indexed line edit/remove helpers + render parity validation) | `name_comment_xref_search_test`, `tests/unit/api_surface_parity_test.cpp` |
| `ida::type` | `covered` | `TypeInfo::from_declaration`, `function_type`, `enum_type`, `function_return_type`, `function_argument_types`, `calling_convention`, `is_variadic_function`, `enum_members`, `create_struct`, `add_member`, `save_as`, `retrieve`, `apply_named_type`, `import_type` | Type system + local TIL (`typeinf.hpp`) | Closed in P10.4 (function-type/calling-convention/enum workflows + higher-level construction helpers) | `type_roundtrip_test`, `tests/unit/api_surface_parity_test.cpp` |
| `ida::entry` | `covered` | `count`, `by_index`, `by_ordinal`, `add`, `rename`, `forwarder`, `set_forwarder`, `clear_forwarder` | Entry/ordinal management (`entry.hpp`) | Closed in P10.4 (forwarder management parity helpers) | `smoke_test`, `tests/unit/api_surface_parity_test.cpp` |
| `ida::fixup` | `covered` | `at`, `set`, `remove`, `first/next/prev`, `in_range`, descriptor (`flags`/`base`/`target`), signed types (`Off8Signed`/`Off16Signed`/`Off32Signed`), `register_custom`, `find_custom`, `unregister_custom` | Relocations/fixups (`fixup.hpp`) | Closed in P10.4 (descriptor fidelity + range traversal helpers) | `fixup_relocation_test`, `tests/unit/api_surface_parity_test.cpp` |
| `ida::search` | `covered` | `text` (+ `TextOptions`), `immediate` (+ `ImmediateOptions`), `binary_pattern` (+ `BinaryPatternOptions`), `next_code`, `next_data`, `next_unknown`, `next_defined`, `next_error` | Text/immediate/binary find (`search.hpp`) | Closed in P10.5 (direction/options parity + `next_error`/`next_defined` helpers) | `name_comment_xref_search_test`, `tests/unit/api_surface_parity_test.cpp` |
| `ida::analysis` | `covered` | `is_enabled`, `set_enabled`, `is_idle`, `wait`, `wait_range`, `schedule`, `schedule_range`, `schedule_code`, `schedule_function`, `schedule_reanalysis`, `schedule_reanalysis_range`, `cancel`, `revert_decisions` | Auto-analysis queue control (`auto.hpp`) | Closed in P10.5 (explicit schedule-intent + rollback/revert wrappers) | `name_comment_xref_search_test`, `tests/unit/api_surface_parity_test.cpp` |
| `ida::lumina` | `covered` | `has_connection`, `pull`, `push`, `OperationCode`, `BatchResult` | Lumina metadata sync (`lumina.hpp`) | Post-Phase-10 additive closure for real-port parity (`idalib_lumina`) | `smoke_test`, `tests/unit/api_surface_parity_test.cpp`, `examples/tools/idalib_lumina_port.cpp` |
| `ida::event` | `partial` | `on_segment_added`, `on_function_added`, `on_renamed`, `on_event`, `on_event_filtered`, `unsubscribe` | IDB event routing (`HT_IDB`) | Intentional abstraction (P10.9.a): normalize only high-value stable events + generic filtered routing, avoid full raw-notification mirroring unless migration blockers emerge | `event_stress_test`, typed+generic coexistence checks |
| `ida::plugin` | `covered` | `Plugin`, `register_action`, `attach_to_menu`/`detach_from_menu`, `attach_to_toolbar`/`detach_from_toolbar`, `attach_to_popup`/`detach_from_popup`, `ActionContext`, `IDAX_PLUGIN` | Plugin lifecycle + actions (`loader/plugin` + `kernwin.hpp`) | Closed in P10.6 (detach helpers + context-aware ergonomics docs) | `loader_processor_scenario_test`, `tests/unit/api_surface_parity_test.cpp`, `docs/quickstart/plugin.md` |
| `ida::loader` | `covered` | `InputFile`, `Loader::accept/load/save/move_segment`, context-rich requests (`LoadFlags`, `LoadRequest`, `SaveRequest`, `MoveSegmentRequest`, `ArchiveMemberRequest`), `load_with_request`, `save_with_request`, `move_segment_with_request`, `process_archive`, `decode_load_flags`, `encode_load_flags`, `file_to_database`, `memory_to_database`, `IDAX_LOADER` | Loader module authoring (`loader.hpp`) | Closed in P10.6 (archive/member/reload/save request modeling + scenario tests) | `loader_processor_scenario_test`, `tests/unit/api_surface_parity_test.cpp`, `docs/quickstart/loader.md` |
| `ida::processor` | `covered` | `ProcessorInfo`, extended `InstructionDescriptor`/`AssemblerInfo`, `AnalyzeDetails`/`AnalyzeOperand` (`analyze_with_details`), tokenized `OutputContext` (`OutputTokenKind`, `OutputToken`, `tokens()`), `output_mnemonic_with_context`, `output_instruction_with_context`, `output_operand_with_context`, `Processor` optional hooks, `SwitchDescription`, `IDAX_PROCESSOR` | Processor module authoring (`idp.hpp`, `ua.hpp`) | Closed in P10.6 (output-context abstraction + advanced descriptor/assembler parity checks) with post-closure parity enhancements for typed analyze operands and mnemonic/token output hooks | `loader_processor_scenario_test`, `tests/unit/api_surface_parity_test.cpp`, `docs/quickstart/processor.md` |
| `ida::debugger` | `covered` | process control APIs, request queue helpers (`request_*`, `run_requests`, `is_request_running`), thread introspection (`thread_count`, `thread_id_at`, `thread_name_at`, `threads`, `current_thread_id`), thread control (`select_thread`, `suspend_thread`, `resume_thread` + request variants), register introspection (`register_info`, `is_*_register`), `on_process_*`, `on_breakpoint_*`, `on_exception` | Debugger runtime/events (`dbg.hpp`, `idd.hpp`) | Closed in P10.7.a (async/request parity + thread/register introspection helpers) | `debugger_ui_graph_event_test`, `tests/unit/api_surface_parity_test.cpp` |
| `ida::ui` | `covered` | dialogs, `jump_to`, `Widget` lifecycle APIs, `widget_host`/`with_widget_host`, custom viewer APIs (`create_custom_viewer`, `set_custom_viewer_lines`, `custom_viewer_*`), chooser, timer, expanded typed/generic UI/VIEW events (`on_database_inited`, `on_current_widget_changed`, `on_view_*`, `on_event`) | UI + view notifications (`kernwin.hpp`, `HT_UI`, `HT_VIEW`) | Closed in P10.7.b (custom-viewer wrappers + broader UI/VIEW event mapping) | `debugger_ui_graph_event_test`, `tests/unit/api_surface_parity_test.cpp`, `docs/namespace_topology.md` |
| `ida::graph` | `covered` | `Graph` node/edge/group/layout APIs (`set_layout`, `current_layout`, `redo_layout`), viewer lifecycle/query helpers (`show_graph`, `refresh_graph`, `has_graph_viewer`, `is_graph_viewer_visible`, `activate_graph_viewer`, `close_graph_viewer`), `flowchart`, `flowchart_for_ranges` | Graph/viewer + CFG (`graph.hpp`, `gdl.hpp`) | Closed in P10.7.c (viewer lifecycle/query parity + layout behavior matrix validation) | `debugger_ui_graph_event_test`, `tests/unit/api_surface_parity_test.cpp`, topology/matrix docs updates |
| `ida::decompiler` | `covered` | `available`, `decompile`, `DecompiledFunction`, ctree visitors (`visit`, `visit_expressions`, `for_each_*`), variable rename/retype (`rename_variable`, `retype_variable`), comment workflows (`set/get/save`, orphan cleanup), mapping APIs (`line_to_address`, `address_map`) | Hex-Rays facade (`hexrays.hpp`) | Closed in P10.7.d (variable retype + broader ctree/comment workflow coverage) | `decompiler_storage_hardening_test`, `decompiler_edge_cases_test`, `tests/unit/api_surface_parity_test.cpp`, topology/migration docs updates |
| `ida::storage` | `covered` | `Node::open`, `Node::open_by_id`, `Node::id`, `Node::name`, `alt/sup/hash/blob` families | Netnode storage (`netnode.hpp`) | Closed in P10.7.e (node-id/open-by-id metadata helpers + safe blob index guidance) | `decompiler_storage_hardening_test`, `tests/unit/api_surface_parity_test.cpp`, storage docs updates |

## B) SDK Capability Family Matrix (one row per major capability family)

| SDK capability family | Primary SDK headers | Current idax domain(s) | Status | Closure criteria | Required evidence |
|---|---|---|---|---|---|
| Error transport + result model | N/A (cross-cutting) | `ida::error` | `covered` | Preserve category/code/message/context consistency | Unit + compile-only parity checks |
| Shared options + diagnostics | N/A (cross-cutting) | `ida::core`, `ida::diagnostics` | `partial` | Intentional abstraction (P10.9.a): compact cross-cutting option/diagnostics surface by design; broaden only for demonstrated migration need | Unit tests + docs conventions |
| Address flags/navigation | `ida.hpp`, `bytes.hpp` | `ida::address` | `covered` | Closed in P10.2 (predicate ranges + defined aliases) | `smoke_test`, compile-only parity checks |
| Byte read/write/patch | `bytes.hpp` | `ida::data` | `covered` | Closed in P10.2 (explicit revert APIs + mutation safety validation) | `data_mutation_safety_test` |
| Data definition/undefinition | `bytes.hpp`, `offset.hpp` | `ida::data` | `covered` | Closed in P10.2 (expanded define helpers incl. struct) | `data_mutation_safety_test`, compile-only parity checks |
| Database lifecycle/open/save/close | `idalib.hpp` | `ida::database` | `covered` | Closed in P10.2 (open mode + load intent wrappers) | `smoke_test`, compile-only parity checks |
| File/memory ingestion + snapshots | `loader.hpp`, `loader API` | `ida::database` | `covered` | Closed in P10.2 (metadata parity helpers + validated ingestion paths) | `smoke_test` |
| Segment management | `segment.hpp` | `ida::segment` | `covered` | Closed in P10.3 (resize/move/comment/traversal parity helpers) | `segment_function_edge_cases_test`, compile-only parity checks |
| Function/chunks/frame/register vars | `funcs.hpp`, `frame.hpp` | `ida::function` | `covered` | Closed in P10.3 (reanalysis/update intent APIs + migration ergonomics) | `segment_function_edge_cases_test`, compile-only parity checks |
| Instruction decode/text/operand formatting | `ua.hpp`, `lines.hpp` | `ida::instruction` | `covered` | Closed in P10.3 (jump/conditional classifiers + operand text/format parity) | `instruction_decode_behavior_test`, `operand_and_text_test`, compile-only parity checks |
| Naming/demangling + identifier hygiene | `name.hpp` | `ida::name` | `covered` | Closed in P10.4 (identifier validation/sanitization + user/auto introspection) | Name behavior + compile-only parity tests |
| Cross-reference mutation/enumeration | `xref.hpp` | `ida::xref` | `covered` | Closed in P10.4 (range-style iteration + richer typed filters) | Xref behavior + compile-only parity tests |
| Comment pipelines (regular/anterior/posterior/render) | `lines.hpp` | `ida::comment` | `covered` | Closed in P10.4 (indexed line edits/removals + render parity checks) | Comment integration + compile-only parity tests |
| Type system + local TIL workflows | `typeinf.hpp` | `ida::type` | `covered` | Closed in P10.4 (function-type/calling-convention/enum workflows) | Type roundtrip + compile-only parity tests |
| Entry point + forwarder workflows | `entry.hpp` | `ida::entry` | `covered` | Closed in P10.4 (forwarder management helpers) | Smoke entry checks + compile-only parity tests |
| Fixup/relocation + custom handlers | `fixup.hpp` | `ida::fixup` | `covered` | Closed in P10.4 (descriptor fidelity + in-range traversal helper) | Fixup relocation + compile-only parity tests |
| Search (text/immediate/binary + cursor helpers) | `search.hpp` | `ida::search` | `covered` | Closed in P10.5 (typed option parity + `next_error`/`next_defined`) | `name_comment_xref_search_test`, compile-only parity checks |
| Auto-analysis scheduling/waiting/revert | `auto.hpp` | `ida::analysis` | `covered` | Closed in P10.5 (schedule-intent + cancel/revert wrappers) | `name_comment_xref_search_test`, compile-only parity checks |
| Lumina metadata sync | `lumina.hpp` | `ida::lumina` | `covered` | Additive post-Phase-10 closure for real-port pull/push parity (`idalib_lumina`) | `smoke_test`, compile-only parity checks, example tool scaffold |
| IDB event notifications | `event_listener_t` / `HT_IDB` | `ida::event` | `partial` | Intentional abstraction (P10.9.a): curated typed events + generic filter route instead of exhaustive raw IDB event mirroring | Event stress tests |
| Plugin authoring and action system | plugin API + `kernwin.hpp` | `ida::plugin` | `covered` | Closed in P10.6 (attach/detach parity + context-aware action docs) | `loader_processor_scenario_test`, compile-only parity checks, quickstart docs |
| Loader authoring (accept/load/save/move) | `loader.hpp` | `ida::loader` | `covered` | Closed in P10.6 (archive/member/reload/save request surfaces + flag modeling) | `loader_processor_scenario_test`, compile-only parity checks |
| Processor authoring | `idp.hpp`, `ua.hpp` | `ida::processor` | `covered` | Closed in P10.6 (OutputContext + extended descriptor/assembler surfaces), plus post-closure typed analyze operand model + mnemonic/token output hooks | `loader_processor_scenario_test`, compile-only parity checks |
| Debugger control and notifications | `dbg.hpp`, `idd.hpp` | `ida::debugger` | `covered` | Closed in P10.7.a (request-queue parity + thread/register introspection helpers) | `debugger_ui_graph_event_test`, compile-only parity checks |
| UI/dialog/widget/view lifecycle | `kernwin.hpp` | `ida::ui` | `covered` | Closed in P10.7.b (custom-viewer parity + expanded UI/VIEW lifecycle routing) | `debugger_ui_graph_event_test`, compile-only parity checks, topology/matrix docs updates |
| Graph object/viewer/flowchart | `graph.hpp`, `gdl.hpp` | `ida::graph` | `covered` | Closed in P10.7.c (viewer lifecycle/query helpers + layout behavior matrix checks) | `debugger_ui_graph_event_test`, compile-only parity checks, topology/matrix docs updates |
| Decompiler pseudocode/ctree/comment workflows | `hexrays.hpp` | `ida::decompiler` | `covered` | Closed in P10.7.d (variable retype + expanded comment/ctree workflow coverage) | Decompiler hardening/edge-case tests + compile-only parity + docs updates |
| Persistent storage (netnode) | `netnode.hpp` | `ida::storage` | `covered` | Closed in P10.7.e (node-id/open-by-id helpers + safe-index guidance) | `decompiler_storage_hardening_test`, compile-only parity checks, storage docs |

## C) Execution notes for Phase 10

1. This matrix is the canonical closure artifact for `P10.0`.
2. Status updates must happen in lockstep with:
   - `agents.md` TODO checkboxes,
   - `agents.md` Progress Ledger,
   - `agents.md` Findings/Decision/Blockers sections when applicable.
3. No row transitions to `covered` without both:
   - passing tests in changed profiles (`full`, `unit`, `compile-only`), and
   - docs evidence updates (`docs/migration/*`, `docs/namespace_topology.md`, API reference).

## D) Intentional abstraction notes (P10.9.a)

- `ida::core` / `ida::diagnostics`: intentionally compact cross-cutting helpers; not intended to mirror SDK-internal flag/counter breadth.
- `ida::event`: intentionally curated typed IDB events + generic filtered routing; not intended to exhaustively mirror every raw IDB notification.
- Real-world port audit follow-up (`docs/port_gap_audit_ida_qtform_idalib_dump.md`): audited non-Telegram paths currently have no open high-severity parity blockers; further expansion is additive and demand-driven.
- Real-world port audit follow-up (`docs/port_gap_audit_lifter.md`): full lifter migration remains blocked by deeper decompiler write-path gaps (advanced typed IR/value/callinfo/tmop semantics), but baseline closure increments now include maturity subscriptions, FUNC_OUTLINE/cache-dirty helpers, action-context host bridges (`with_widget_host`, `with_decompiler_view_host`), a working VMX + AVX scalar/packed subset in `examples/plugin/lifter_port_plugin.cpp` via public microcode-filter APIs (`vzeroupper`, VMX instruction lowering, and typed AVX scalar/packed math/minmax/sqrt/conversion/move/addsub/horizontal lowering plus helper-fallback conversion/bitwise/permute/blend/shift/compare/misc families) with mixed register/immediate/memory-source forwarding and compare-destination no-op tolerance, typed microcode instruction emission (`MicrocodeOpcode`/`MicrocodeOperand`/`MicrocodeInstruction`, `emit_instruction`/`emit_instructions`) with constrained placement controls (`MicrocodeInsertPolicy`, `emit_instruction_with_policy`/`emit_instructions_with_policy`), temporary-register allocation (`allocate_temporary_register`), and typed helper-call/call-option/location-hint primitives (integer/float/byte-array/vector/type-declaration + declaration-driven typed register argument/return widths + per-argument name/flag metadata + register/register-pair/register-offset/register-relative/stack/static/scattered + insert-policy/function-role/return-location hints + auto stack-placement start/alignment controls).
